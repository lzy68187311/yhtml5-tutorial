## api-security


### problem and solution

|type|problem|solution|
|---|---|---|
|DDOS|接口被大规模调用消耗系统资源，影响系统的正常访问，甚至系统瘫痪||
|数据截获| |使被截获的数据无意义;https;token;md5;|
|数据泄露|数据无意义;加密|
|请求伪造|伪造（篡改）数据，制造垃圾数据|timespan,nonce,staffId,signature|
|客户端||提高破解难度,js加密混淆|
|login||二次身份认证|
|重放攻击||
|App被仿制|
|CSRF 攻击|Cross-site request forgery 跨站请求伪造|
|撞库||


* 对受限资源的登录授权
* 对请求做身份认证，并且防止篡改，重放攻击
* 对敏感的数据做加密
* 加登录验证码, 可预防人为地暴力登录破解
* 账户锁定,如果用户密码输入错误次数达到一定量后（如6次）, 则可以锁定该账号

### 受限资源的登录授权

1. 客户端提交账号信息（用户名+密码）到服务端
2. 服务端验证成功，返回AccessToken给客户端存储
3. 访问受限资源时，客户端带入AccessToken就可访问。

* 部署SSL基础设施（即HTTPS），敏感数据的传输全部基于SSL。
* 仅对部分敏感数据做加密（例如账号+密码），并加入某种随机数作为加密盐，以防范数据被篡改。